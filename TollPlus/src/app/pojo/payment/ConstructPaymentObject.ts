export class ConstructPaymentObject{

  constructTagDetArray=[];
  returnPaymentObject=function (paymentDetails,
                                encrptedCreditCardNumber,
                                existingAddress,
                                tagReqDetails,
                                arrayOfTagsEntered,selectedPlanId,calculatedTotalAmount) {
    debugger;
    for(var i=0;i<tagReqDetails.length;i++){
      var tempObj={
        "ActivitySource":0,
        "ActivityType":0,
        "AdjustmentReason":"null",
        "CustomerId":sessionStorage.getItem("CustomerId"),
        "CustTagReqId":"0",
        "EndEffectiveDate":"\/Date(1245398693390)\/",
        "FacilityCode":"null",
        "FulfilledQty":"0",
        "ManufactureDate":"\/Date(1245398693390)\/",
        "Mounting":tagReqDetails[i].Mounting,
        "PreviousDate":"\/Date(1245398693390)\/",
        "PreviousTagAlias":"null",
        "PreviousTagStatus":"null",
        "Protocol":tagReqDetails[i].Protocol,
        "PurchaseOrderNumber":"null",
        "ReqCount":arrayOfTagsEntered[i],
        "RMANumber":"1234",
        "SerialNumber":"null",
        "ShipmentId":"0",
        "SplitCustomerId":"0",
        "StartEffectiveDate":"\/Date(1245398693390)\/",
        "StatusDate":"\/Date(1245398693390)\/",
        "SubSystem":1,
        "TagAlias":"null",
        "TagDeliveryMethod":"0",
        "TagDeliveryOption":"null",
        "TagLocation":"null",
        "TagName":"No. Of 6C_INTERNAL(s):",
        "TagPurchaseMethod":"0",
        "TagPurchaseMethodCode":"ShipmentByPost",
        "TagReqComment":"null",
        "TagReqDate":"\/Date(1245398693390)\/",
        "TagReqType":1,
        "TagStatus":"null",
        "TagTobeReplaced":"null",
        "TagType":"null",
        "TotalRequiredAmount":"0",
        "UserId":"0",
        "UserName":"tpsuperuser",
        "VehicleClassId":"null",
        "VehicleId":"0",
        "WarrantyEndDate":"\/Date(1245398693390)\/"

      }
      this.constructTagDetArray.push(tempObj);
    }

    var paymentObject= {
      "IntiatedBy":"TestUser",
      "UserName":"Test",
      "TxnAmount":calculatedTotalAmount,
      "Description":"Test description",
      "PaymentMode":"3",
      "CustomerId":sessionStorage.getItem('CustomerId'),
      "StatementCycle":"Monthly",
      "PaymentDate":"\/Date(1245398693390)\/",
      "AppTxnTypeCode":"CSCPLANFEEPOST",

      "AccountAdjusmentSD":{
        "AdjustmentCategoryId":0,
        "LinkId":0,
        "LinkSourceName":"Text",
        "TxnType":null,
        "AppTxnTypeCode":"CSCPLANFEEPOST",
        "AdjustmentCategory":"PostPaid",
        "DrCr_Flag":null,
        "TxnTypeDesc":null,
        "Amount":0.0,
        "TxnAmount":0.0,
        "AdjustmentDate":"\/Date(1245398693390)\/",
        "CustomerId":0,
        "AccStatusCode":"1",
        "AdjustmentReason":null,
        "ReasonCode":null,
        "IsManualEntry":false,
        "IsApprovedUser":false,
        "User":null,
        "StartDate":"\/Date(1245398693390)\/",
        "EndDate":"\/Date(1245398693390)\/",
        "SubSystem":0,
        "strSubSystem":null,
        "ActivitySource":0,
        "ActivityType":0,
        "TxnCategory":0,
        "Description":"TestDescriptin",
        "IsApproved":null,
        "AdjustmentLevelId":0,
        "VocherNumber":null,
        "ApprovedStatusDate":"\/Date(1245398693390)\/",
        "TripId":0,
        "CustomerTripId":0,
        "TripStatusId":0,
        "VehicleNumber":null,
        "VehicleId":0,
        "TripStageId":0,
        "TripProblemId":0,
        "TripOutStandingAmount":0.0,
        "TransferCustomerId":0,
        "IsVehicleTransfered":false,
        "CustTripIdCSV":null,
        "TollAmount":0.0,
        "ICNId":0,
        "TotalAmount":0.0,
        "NSFCheckNumber":null,
        "PreviousBalance":0.0,
        "SystemActivity":null,
        "ReferralCustomerId":0,
        "RefPkId":0,
        "BusinessProcessCode":null,
        "AdjustmentLineItems":null,
        "IsChangeOfPlan":false,
        "OtherPlanFee":0.0,
        "IsPostpaidCustomer":true,
        "IsSingleTransaction":false,
        "CCVoucherNo":null,
        "CCPaymentTxnId":0,
        "Stmt_Literal":null,
        "TripTransfer":false,
        "ISTripLvel":false,
        "TransactionDateTime":"\/Date(1245398693390)\/",
        "IsTransferredPostpaidCustomer":false,
        "IsTripTransfer":false,
        "AmountType":null,
        "RevenueCategory":null,
        "RewardPoint":0,
        "RewardBalances":0.0,
        "CSVRewardIds":null,
        "SortColumn":null,
        "SortDir":0,
        "PageNumber":0,
        "PageSize":0,
        "ReCount":0
      },
      "SystemActivity":{
        "UserId":0,
        "ActionCode":"12",
        "FeaturesCode":null,
        "LoginId":sessionStorage.getItem('CustomerId'),
        "KeyValue":null,
        "User":null,
        "ActivityTypeDescription":null,
        "IsSearch":false,
        "IsViewed":false,
        "ActivitySource":null,
        "SubSystem":null,
        "CustomerId":0
      },
      "PaymentInterface":
        {

          "LoggedinUserId":sessionStorage.getItem('CustomerId')

        },
      "CreditCardPayments":{
        "CardMode":"null",
        "CCID":"0",
        "CCSuffix4":"1111",
        "City":existingAddress.City,
        "Country":existingAddress.Country,
        "CreditCardNumber":encrptedCreditCardNumber,
        "CreditCardType":0,
        "CVV":"",
        "DefaultFlag":0,
        "ExpiryDate":paymentDetails.expiryYear+""+paymentDetails.expiryMonth,
        "ExpiryMonth":paymentDetails.expiryMonth,
        "ExpiryYear":paymentDetails.expiryYear,
        "Gateway":0,
        "Line1":existingAddress.Line1,
        "Line2":"",
        "Line3":"",
        "NameOnCard":paymentDetails.nameOnCard,
        "NewAddress":0,
        "LoggedinUserId": sessionStorage.getItem('CustomerId'),
        "State":existingAddress.State,
        "Zip1":existingAddress.Zip1,
        "Zip2":"",
        "CreditCardServiceTax":"1.24",
        "CustomerBalance":"0",
        "CustomerId":sessionStorage.getItem("CustomerId")
      },
      "CustomerTransaction":{
        "TxnTypeId":0,
        "TxnType":null,
        "BusinessProcessCode":null,
        "CustTxnCategory":0,
        "Stmt_Literal":null,
        "AppTxnTypeCode":"CSCPLANFEEPOST",
        "BusinessProcessCodeId":0,
        "TxnAmount":0.0,
        "PreviousBalance":0.0,
        "CurrentBalance":0.0,
        "TxnMode":null
      },
      "CustomerTransactions":[
        {
          "Description":"Create Account Payment",
          "EMIINVPath":"null",
          "ErrorMsg":"null",
          "GiftCertificates":"null",
          "ICNId":"40026",
          "IntiatedBy":"tpsuperuser",
          "InvoiceAmount":"0",
          "InvoiceCSV":"null",
          "InvoiceCycle":"null",
          "InvoiceDay":"1",
          "InvoiceID":"0",
          "InvoiceIntervalId":"4",
          "InvoiceListPath":"null",
          "InvoiceNo":"null",
          "InvoiceNoToReturn":"null",
          "IsAddNewBankDetails":"FALSE",
          "IsAddNewCardDetails":"FALSE",
          "IsCreateAccountSystemUserActivity":"TRUE",
          "IsNewAddress":"TRUE",
          "IsNewCard":"FALSE",
          "IsPostpaidCustomer":true,
          "IsSplitCustomer":"FALSE",
          "LinkSourceName":"PAYMENTS",
          "LoggedUserId":sessionStorage.getItem("CustomerId"),
          "LoginId":sessionStorage.getItem("CustomerId"),
          "LstBankPayments":"null",
          "LstChequePayments":"null",
          "LstCreditCardPayments":"null",
          "lstGiftCertificates":"null",
          "MoneyOrderPayment":"null",
          "NSFAmount":"0",
          "ObjAdvancedPayment":"null",
          "ObjAnonymousPayments":"null",
          "objEMIRequest":"null",
          "objListInvoices":"null",
          "objListTrips":"null",
          "OtherPlanFee":"70",
          "ParentPaymentId":"0",
          "ParentPaymentMode":"AllTransaction",
          "PartialPaymentReason":"null",
          "PaymentDate":"\/Date(1245398693390)\/",
          "PaymentFor":"null",
          "PaymentGateways":"PayPal",
          "PaymentId":"0",
          "PaymentMode":"CreditCard",
          "PaymentModeDesc":"null",
          "PaymentStatus":"InProcess",
          "AppTxnTypeCode":"CSCPLANFEEPOST"
        }
      ],
      "PaymentTxnLineItem":[
        {
          "Description":"CSCPOSTCCPMT",
          "LinkSourceName":0,
          "TxnAmount":calculatedTotalAmount,
          "Raw View":"",
          "PlanID":selectedPlanId,
          "PromoCode":"null",
          "PromoId":"0",
          "PromoPayments":"null",
          "RefundType":"null",
          "ReplenishmentType":"CreditCard",
          "RetailerId":"0",
          "RetailerLstTransactions":"null",
          "Static members":"null",
          "RetailerTransaction":"null",
          "RevenueCategory":"Revenue",
          "RRID":"0"
        }
      ],
      "ShipmentAddress":[
        {
          "AddressId":123,
          "CheckBlockList":true,
          "City":existingAddress.City,
          "Country":existingAddress.Country,
          "CountryName":existingAddress.Country,
          "CustomerId":sessionStorage.getItem("CustomerId"),
          "FullAddress":existingAddress.FullAddress,
          "Line1":existingAddress.Line1,
          "State":existingAddress.State,
          "StateName":"null",
          "SubSystem":0,
          "Type":"Shipping",
          "UserId":"0",
          "UserName":"tpsuperuser",
          "Zip1":existingAddress.Zip1,
          "Zip2":"",
          "SplitParentCustomerId":"0"
        }
      ],
      "TagRequests":
      this.constructTagDetArray
    }

    return paymentObject;

  }
}
